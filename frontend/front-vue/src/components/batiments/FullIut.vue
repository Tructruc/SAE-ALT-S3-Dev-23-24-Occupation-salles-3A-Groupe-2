<template>
  <div class="pres-full" v-if="showPres">
    <h2>Bienvenue sur le tableau de bord de visualisation des données des salles</h2>
    <div class="presentation">

      <p style="width: 40vw;">
        Sur ce tableau de bord mono-page, vous avez la possibilité de visualiser les données des capteurs AM107 situés dans les salles de l'IUT de Blagnac. <br>
        Grâce au plan interactif ci-dessous, à l'onglet "Salles" ou via la fonction de recherche et les recommandations qu'elle propose, vous pouvez accéder facilement à l'information désirée.
      </p>
      <img src="https://upload.wikimedia.org/wikipedia/fr/8/8a/Logo_IUT_Blagnac.png" alt="Logo IUT Blagnac" style="display: block; margin-left: 0; width: 16vw;">

    </div>
  </div>
  <div class="map-container">
    <div :class="{ 'small-view': showBatB || showBatE || showBatA, 'grid':true}"> 
    <h2> Plan intératif de l'IUT de Blagnac </h2> 
      <svg width="100%" height="100%" viewBox="0 0 1417.3333 524" >
            <g id="MI">
                <path id="path47751" d="m 1275.5549,283.99611 -0.4068,-25.87164 27.0614,42.74674 0.058,23.6013 -26.7126,-40.4764"/>
                <path id="path47753" d="m 1275.1481,258.12447 27.0614,42.74674 104.472,-3.50424 -30.4561,-43.50482 -101.0773,4.26232"/>
                <path id="path47755" d="m 1302.2095,300.87121 104.472,-3.50424 -0.09,24.96697 -104.324,2.13857 -0.058,-23.6013"/>
            </g>
            
            <g id="bat_E" class="changeColor" @click="displayBatE">
              <path d="m 1196.9,302.55 c 4.5459,1.0412 8.9079,2.9518 15.126,-3.9167 l 1.6547,-75.368 0.1044,-2.2303 c -3.2413,2.9981 -7.657,4.4265 -12.468,5.3259 l -4.1945,23.424 -0.2219,52.765" id="path15" />
              <path d="m 750.66,272.7 462.82,-23.758 -99.638,-53.87 -286.21,13.075 -76.976,64.553" id="path17" />
              <path d="m 827.64,208.15 -46.112,-8.0353 33.267,-11.212 12.845,19.247" id="path19" />
              <path d="m 749.63,225.38 1.0315,47.316 76.976,-64.553 -46.112,-8.0353 -31.896,25.273" id="path21" />
              <path d="m 757.7,272.34 9.9406,41.503 1.1397,-42.072 -11.08,0.56879" id="path23" />
              <path d="m 768.78,271.77 -1.1397,42.072 20.114,-0.35177 -0.25111,38.227 281.58001,-16.449 2.0595,2.9721 125.62,-5.1613 0.3503,-83.298 -428.34001,21.988" id="path25" />
              <path d="m 1113.8,195.07 57.976,-23.423 41.662,77.293 -99.638,-53.87" id="path27" />
              <path d="m 814.79,188.9 12.845,19.247 286.21,-13.075 57.976,-23.423 -357.03,17.25" id="path29" />
              <path d="m 1187.1,200.06 14.174,26.296 c 10.354,-2.1008 19.375,-6.294 11.403,-18.336 -8.0706,-8.7327 -15.31,-9.3826 -25.577,-7.9602" id="path31" />
              <path d="m 879.06,185.79 38.332,-1.8521 c 4.6822,-6.5166 0.92576,-9.5534 -3.876,-12.159 -10.614,-4.0961 -21.781,-4.7404 -33.926,0.72689 -8.8032,5.7844 -4.8887,9.5694 -0.52977,13.284" id="path33" />
            </g>
            <g id="bat_Cloctech">
                <path id="path33557" d="m 404.38219,377.66988 0.53913,26.05039 184.90155,104.61516 -1.19021,-56.48469 -41.13126,2.69141 z"/>
                <path id="path35040" d="m 589.82287,508.33543 26.12985,-19.43235 0.0143,-62.51058 -27.33436,25.45824 1.19021,56.48469"/>
                <path id="path35108" d="m 398.57055,374.43743 187.9466,8.98733 -39.01575,71.11739 -143.11921,-76.87227 -5.81164,-3.23245 187.9466,8.98733 13.07314,-0.65039 188.1256,-9.35926 225.07531,-11.19751 56.29,-26.94826 -670.51065,39.16809"/>
                <path id="path35176" d="m 778.52478,478.0913 27.39545,15.31999 -0.19221,-53.37743 -8.43272,0.53038 -18.55565,-14.60203 -0.21487,52.12909"/>
                <path id="path35244" d="m 805.72802,440.03386 285.91108,-17.98243 0.6313,56.90341 -286.35017,14.45645 -0.19221,-53.37743"/>
                <path id="path35312" d="m 1103.2349,421.07431 c -10.0868,-29.45769 -16.5421,-61.3108 -34.1537,-85.80497 l -56.29,26.94826 90.4437,58.85671"/>
                <path id="path35660" d="m 599.59029,382.77437 188.1256,-9.35926 c -8.5396,20.36124 -30.48818,23.7947 -52.37403,28.55619 -28.30975,4.32296 -62.1808,7.30131 -102.17465,0.70392 -13.04036,-3.90978 -28.36679,-6.07261 -33.57692,-19.90085"/>
                <path id="path36132" d="m 599.59029,382.77437 c -2.30765,22.24836 8.52983,31.44904 16.37673,43.61813 l -0.0143,62.51058 c 21.12776,16.84321 47.55741,25.51675 80.49949,24.15529 22.0339,-3.04227 41.09548,-1.27542 82.07257,-34.96707 l 0.21487,-52.12909 -9.42992,-7.69175 c 12.36099,-13.18166 20.86057,-27.46123 18.40616,-44.85535 -5.98409,15.55101 -25.87412,23.7911 -52.37391,28.55617 -34.05886,5.23179 -68.11714,6.05149 -102.17461,0.70397 -12.76584,-3.63389 -26.6113,-5.20955 -33.57708,-19.90088"/>
                <path id="path36832" d="m 547.5014,454.54215 41.13126,-2.69141 27.33436,-25.45824 c -8.28329,-12.47827 -19.13724,-23.08059 -16.37673,-43.61813 l -13.07314,0.65039 -39.01575,71.11739"/>
                <path id="path37114" d="m 787.71589,373.41511 c -0.013,25.62319 -6.34533,29.89467 -18.40616,44.85535 l 27.98557,22.29378 305.9396,-19.48993 -90.4437,-58.85671 -225.07531,11.19751"/>
            </g>
            <g id="bat_B" class="changeColor" @click="displayBatB">
              <path d="m 129.27,212.71 22.849,-86.797 -133.62,26.818 110.77,59.978" id="path38" />
              <path d="m 418.03,229.65 -0.3236,-21.674 64.579,31.96 -39.407,1.8258 z" id="path40" />
              <path d="m 374.07,219.27 c 11.389,11.608 26.095,14.941 43.966,10.382 l -0.3236,-21.674 22.687,-15.133 -2.1397,-53.37 c -1.8018,10.74 -20.856,15.309 -35.287,15.506 -22.961,-1.5335 -34.24,-8.1009 -34.672,-13.961 z" id="path42" />
              <path d="M 646.5,80.863 553.147,32.651 635.767,10.194 646.5,80.863" id="path44" />
              <path d="m 18.503,152.73 133.62,-26.818 c 36.524,-19.381 97.08,-39.211 195.47,-59.747 68.591,-12.355 137.27,-26.143 205.55,-33.513 l 93.353,48.212 c -82.231,5.2459 -163.83,15.729 -244.28,35.811 -133.78,34.048 -198.92,63.595 -272.95,96.033 l 22.849,-86.797" id="path46" />
              <path d="m 55.878,193.69 0.21102,20.326 98.766,53.888 0.0616,-38.227 -19.075,8.7575 z" id="path48" />
              <path d="m 31.579,159.81 0.40236,20.512 103.86,58.116 -0.34852,-28.456 -6.2194,2.7272 -97.695,-52.898" id="path50" />
              <path d="m 18.503,152.73 133.62,-26.818 c 44.369,-23.989 122.28,-45.775 228.21,-65.72 52.827,-9.8699 105.75,-19.726 172.81,-27.539 l 82.62,-22.457 c -75.377,5.5876 -151.39,14.773 -227.87,26.565 -81.69,14.115 -159.34,32.62 -231.37,57.239 -60.002,20.595 -114.99,40.494 -158.03,58.731" id="path52" />
              <path d="m 154.85,267.91 c 36.178,-26.956 79.55,-47.488 129.16,-62.455 28.183,-8.1672 56.681,-16.085 87.397,-22.239 l -2.0084,-27.235 c -44.633,10.247 -83.802,23.096 -122.12,36.352 -31.388,11.199 -62.117,23.773 -92.365,37.351 l -0.0616,38.227" id="path54" />
              <path d="m 438.25,139.47 1.0176,25.382 c 33.46,-9.5328 71.226,-17.277 113.45,-23.17 24.573,-3.3282 48.996,-5.3613 73.316,-6.5081 l 0.46052,-23.742 c -74.01,4.8232 -84.535,8.3538 -112.6,12.242 -25.851,4.675 -50.888,10.107 -75.646,15.797 z" id="path56" />
              <path d="m 640.91,81.228 0.23903,29.238 -14.655,0.96696 c -38.902,2.0596 -76.445,6.1407 -112.63,12.247 l -75.614,15.792 c -2.7733,-6.957 -10.447,-11.917 -26.197,-13.584 -12.651,-1.3117 -24.576,-0.18898 -35.5,4.2866 -4.0232,2.7504 -8.2415,5.3679 -8.2628,10.843 l 1.1032,14.959 c -40.474,9.1773 -81.245,22.128 -122.12,36.352 -29.053,10.55 -59.222,22.322 -92.365,37.351 l -19.075,8.7575 -0.62018,-28.337 c 60.059,-27.87 116.61,-48.596 171.83,-66.594 65.172,-19.074 129.32,-38.583 213.03,-49.782 40.101,-5.2667 80.253,-10.22 120.83,-12.538" id="path58" />
              <path d="m 368.3,141.02 c 0.23328,-11.634 18.446,-15.708 35.562,-15.572 13.664,0.83301 29.266,2.1189 34.397,14.026 0.65552,2.5747 -7.1726,15.111 -34.787,15.498 -18.41,-1.7376 -33.035,-5.1245 -35.173,-13.952" id="path60" />
              <path d="m 440.39,192.84 97.048,44.982 -10.31,5.6769 -35.248,0.80507 2.001,-4.908 -11.599,0.53742 -64.579,-31.96 22.687,-15.133" id="path62" />
            </g>
            <g id="bat_Aadm" class="changeColor" @click="displayBatA">
              <path d="m 404.38,377.67 0.53913,26.05 184.9,104.62 -1.1902,-56.485 -41.131,2.6914 z" id="path65" />
              <path d="m 589.82,508.34 26.13,-19.432 0.0143,-62.511 -27.334,25.458 1.1902,56.485" id="path67" />
              <path d="m 398.57,374.44 187.95,8.9873 -39.016,71.117 -143.12,-76.872 -5.8116,-3.2324 187.95,8.9873 13.073,-0.65039 188.12845,-9.36765 -0.61348,-22.33853 -388.54087,23.36928" id="path69" />
              <path d="m 599.59,382.77 188.13,-9.3593 c -8.5396,20.361 -30.488,23.795 -52.374,28.556 -28.31,4.323 -62.181,7.3013 -102.17,0.70392 -13.04,-3.9098 -28.367,-6.0726 -33.577,-19.901" id="path71" />
              <path d="m 599.59,382.77 c -2.3076,22.248 8.5298,31.449 16.377,43.618 l -0.0143,62.511 c 21.128,16.843 47.557,25.517 80.499,24.155 22.034,-3.0423 41.095,-1.2754 82.073,-34.967 l 0.226,-53.25447 -9.44177,-7.52663 c 12.361,-13.182 20.86174,-26.5007 18.40674,-43.8947 -5.9841,15.551 -25.874,23.791 -52.374,28.556 -34.059,5.2318 -68.117,6.0515 -102.17,0.70397 -14.3133,-4.24326 -28.40332,-6.18493 -33.577,-19.901" id="path73" />
              <path d="m 547.5,454.54 41.131,-2.6914 27.334,-25.458 c -7.982,-12.478 -18.6333,-21.33164 -16.377,-43.618 l -13.073,0.65039 -39.016,71.117" id="path75" />
              <path d="m 550.55,259.06 48.796,-17.212 19.019,14.64 0.0736,51.951 -67.888,-49.378" id="path77" />
              <path d="m 599.35,241.85 -107.46,2.4545 2.001,-4.908 c -98.592,4.2966 -197.85,8.7155 -313.44,16.156 l 213.22,8.7462 156.88,-5.2369 48.796,-17.212" id="path79" />
              <path d="m 393.67,264.3 -52.371,78.759 116.71641,-5.38987 0.22049,-21.62873 160.21,-7.5998 -67.888,-49.378 -156.88,5.2369" id="path81" />
              <path d="m 341.3,343.06 -149.87,-81.278 -10.979,-6.2275 213.22,8.7462 -52.371,78.759" id="path83" />
              <path d="m 191.42,261.78 -0.57478,27.662 154.61,82.311 -0.24541,-14.527 -0.24248,-14.354 -3.6758,0.18605 -149.87,-81.278" id="path85" />
              <path d="m 767.64,313.84 -151.84,3.853 -0.0596,-9.1062 2.6993,-0.14776 -0.0736,-51.951 -19.019,-14.64 c 16.23,-8.2102 39.751,-14.121 77.071,-15.679 24.914,-0.15811 49.535,0.17775 73.272,2.0033 l 0.97068,44.524 7.0375,-0.36125 9.9406,41.503" id="path87" />
              <path d="m 639.33,275.69 90.257,-3.6944 1.3856,28.034 -91.886,1.1962 0.24323,-25.536 -0.21354,-11.261 -15.482,-7.7983 c 41.676,-15.069 82.67,-13.995 123.3,-4.2946 l -17.655,8.2916 0.30833,11.368 -90.257,3.6944" id="path89" />
              <path d="m 639.19,290.64 -15.734,-13.231 0.18064,-20.771 15.482,7.7983 0.21354,11.261 -0.14233,14.943" id="path91" />
              <path d="m 730.57,291.75 16.734,-17.026 -0.36312,-22.384 -17.655,8.2916 0.30833,11.368 0.97614,19.75" id="path93" />
              <path d="m 527.13,243.5 72.214,-1.6494 c 23.097,-10.704 49.275,-14.9 77.071,-15.679 24.834,-0.15437 49.43,0.16979 73.272,2.0033 l -0.0609,-2.7914 24.922,-19.748 c -31.921,-1.5316 -68.139,-1.3569 -112.68,2.121 -46.959,4.8002 -89.572,13.74 -124.43,30.066 l -10.31,5.6769" id="path95" />
              <path d="m 344.77,371.66 9.1043,-2.0906 50.87789,26.32036 -0.38021,-18.221 -5.81113,-3.23176 406.73601,-24.4886 -16.731,-50.262 -20.514,0.9488 -9.3104,-28.785 -7.7266,0.43876 -0.86208,-3.7246 -20.53,-0.60339 1.2811,31.572 -92.025,1.1859 0.0487,-29.542 -20.635,1.1604 0.61518,35.879 -160.62,7.8038 -0.26706,21.648 -113.36,5.0526 z" id="path97" />
            </g>
        </svg>
    </div>
    <BatB v-if="showBatB" />
    <BatE v-else-if="showBatE" />
    <BatA batiment="A" etage="0" v-else-if="showBatA" />
  </div>
  </template>
  
  <script>
  import BatB from './B/BatB.vue'; // Adjust the path according to your project structure
  import BatE from './E/BatE.vue';
  import BatA from "@/components/batiments/A/BatA.vue";

    export default {
        data() {
            return {
            showBatB: false,
            showBatE: false,
            showBatA: false,
            showPres: true,
            };
            
        },
        methods: {
            
            displayBatB() {
                this.showBatB = true;
                this.showBatE = false;
                this.showBatA = false;
                this.showPres = false;
                },

            displayBatE() {
                this.showBatE = true;
                this.showBatB = false;
                this.showBatA = false;
                this.showPres = false;
                },
            displayBatA() {
                this.showBatA = true;
                this.showBatB = false;
                this.showBatE = false;
                this.showPres = false;
                },
            },

        components: {
          BatA,
          BatB,
          BatE,
      },
    }
  </script>


<style scoped>
g {
  fill:rgb(183, 232, 247);
  stroke:rgb(0, 26, 255);
  fill-opacity:1;
  stroke-width:1px;
  stroke-linecap:round;
  stroke-linejoin:round;
  stroke-opacity:1;

  transition: fill 1.2s, stroke 1s
}

g.changeColor:hover {
  stroke:rgb(56, 0, 102);
  fill: rgb(247, 156, 239);

  /* stroke:rgb(255, 193, 183);
  fill: rgb(233, 8, 0); */
}
</style>

<style>
svg {
  /* border: dashed black 1px; */
  margin-top: 0;
}



.grid{
  display: flex;
  width: 67vw;
  justify-content: center;
  flex-direction: column;
}
.small-view {
  width: 25vw;
  margin: 2vh 2vw;
  padding: 2vh 2vw;
  border-radius: 20px;
  background-color: var(--color-background-hover)
}
</style>


<style scoped>
.map-container{
  display: flex;
  flex-wrap: wrap;
  max-width: 67vw;
  justify-content: center;
}

 h2 {
    margin-bottom: 0;
 }

.grid{
  align-items: center;
  background-color: var(--color-background-hover);
  margin: 2vh 2vw;
  padding: 2vh 2vw;
  border-radius: 10px;
  gap: 2vh;
}

.presentation {
  display: flex;
  flex-direction: row;
  align-items: flex-start; /* Align items to the start of the container */
  justify-content: center; /* Start items from the beginning */
  background-color: var(--color-background-hover);
  width: auto;
  margin: 2vh 2vw;
  padding: 2vh 2vw;
  border-radius: 10px;
  gap: 3vh;
}

.pres-full {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.pres-full h2 {
  text-align: center;
}
</style>
